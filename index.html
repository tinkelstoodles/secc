<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Couple's Connect Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }
        h1, h2, h3 {
            font-family: 'Playfair Display', serif;
        }
        .card-content {
            transition: opacity 0.4s ease-in-out;
        }
        .glow-shadow {
            box-shadow: 0 0 15px rgba(236, 72, 153, 0.3), 0 0 30px rgba(236, 72, 153, 0.2);
        }
        .text-glow {
            text-shadow: 0 0 8px rgba(236, 72, 153, 0.5);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-900 via-purple-900 to-black flex items-center justify-center min-h-screen p-4 overflow-hidden">
    <div class="w-full max-w-md mx-auto">
        <!-- Screen 1: Mode Selection -->
        <div id="mode-screen" class="screen">
            <div class="w-full flex justify-end mb-4">
                <a href="room-scene.html" class="text-white bg-red-600 hover:bg-red-700 font-semibold py-2 px-4 rounded-full shadow-lg transition-all transform hover:scale-105 glow-shadow">
                    Room Secrets
                </a>
            </div>
            <div class="text-center p-8 bg-black/30 backdrop-blur-lg rounded-3xl shadow-2xl border border-pink-500/30">
                <h1 class="text-5xl font-bold text-pink-400 text-glow mb-2">Couple's Connect</h1>
                <p class="text-purple-200 mb-10 text-lg">Choose your fantasy for tonight.</p>
                <div class="space-y-4">
                    <button data-mode="in-person" class="mode-btn w-full bg-pink-600 text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:bg-pink-700 transform hover:-translate-y-1 transition-all duration-300 glow-shadow">
                        We're Together
                    </button>
                    <button data-mode="long-distance" class="mode-btn w-full bg-indigo-600 text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:bg-indigo-700 transform hover:-translate-y-1 transition-all duration-300">
                        Long Distance
                    </button>
                </div>
            </div>
        </div>

        <!-- Screen 2: Game Screen -->
        <div id="game-screen" class="screen hidden flex flex-col items-center justify-between p-4" style="height: 90vh;">
            <div class="w-full grid grid-cols-3 items-center">
                <button id="back-btn" class="text-pink-500 font-semibold hover:text-pink-400 transition-colors justify-self-start">&larr; Change Mode</button>
                <h2 id="turn-indicator" class="text-2xl font-bold text-gray-100 justify-self-center">Player 1's Turn</h2>
                <div class="justify-self-end"></div> <!-- Empty div for spacing -->
            </div>

            <!-- The Card -->
            <div id="card" class="w-full max-w-xs h-80 bg-black/30 border border-purple-500/50 rounded-2xl shadow-2xl p-6 flex flex-col items-center justify-center text-center">
                <!-- This container will hold either the choices or the result -->
                <div id="card-content" class="card-content w-full">
                    <!-- This part is shown initially -->
                    <div id="choice-view">
                        <h3 class="text-3xl font-bold text-purple-200 mb-6">Choose One</h3>
                        <button id="truth-btn" class="w-full bg-teal-500 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-teal-600 transform hover:scale-105 transition-all mb-4">Truth</button>
                        <button id="dare-btn" class="w-full bg-rose-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-rose-700 transform hover:scale-105 transition-all">Dare</button>
                    </div>
                    <!-- This part is shown after a choice is made -->
                    <div id="result-view" class="hidden">
                        <p id="card-text" class="text-2xl font-medium text-pink-200"></p>
                    </div>
                </div>
            </div>

            <button id="next-turn-btn" class="w-full max-w-xs bg-gray-200 text-gray-900 font-bold py-4 px-8 rounded-xl shadow-lg hover:bg-white transform hover:-translate-y-1 transition-all duration-300 opacity-0 pointer-events-none">
                Next Turn
            </button>
        </div>
    </div>

    <script>
        // --- Game State ---
        const state = {
            mode: null, // 'in-person' or 'long-distance'
            currentPlayer: 1,
            usedTruths: [],
            usedDares: [],
        };

        // --- DOM Elements ---
        const modeScreen = document.getElementById('mode-screen');
        const gameScreen = document.getElementById('game-screen');
        const turnIndicator = document.getElementById('turn-indicator');
        const cardContent = document.getElementById('card-content');
        const choiceView = document.getElementById('choice-view');
        const resultView = document.getElementById('result-view');
        const cardText = document.getElementById('card-text');
        const nextTurnBtn = document.getElementById('next-turn-btn');

        // --- Data ---
        const cards = {
            truths: [
                { text: "What's a secret you've never told anyone before?", modes: ['in-person', 'long-distance'] },
                { text: "When did you first realize you were in love with me?", modes: ['in-person', 'long-distance'] },
                { text: "What is your absolute favorite memory of us?", modes: ['in-person', 'long-distance'] },
                { text: "If you could change one thing about our relationship, what would it be?", modes: ['in-person', 'long-distance'] },
                { text: "Describe a fantasy you've had about me.", modes: ['in-person', 'long-distance'] },
                { text: "What's one thing you're afraid to ask me, but really want to know?", modes: ['in-person', 'long-distance'] },
                { text: "What was your first impression of me?", modes: ['in-person', 'long-distance'] },
                { text: "What's a 'green flag' you saw in me early on?", modes: ['in-person', 'long-distance'] },
                { text: "Is there a song that makes you think of me every time you hear it?", modes: ['in-person', 'long-distance'] },
                { text: "What's a physical feature of mine that you love, but haven't told me about?", modes: ['in-person', 'long-distance'] },
                { text: "Have you ever had a dream about us? Describe it.", modes: ['in-person', 'long-distance'] },
                { text: "What's a habit of mine that you find secretly endearing?", modes: ['in-person', 'long-distance'] },
                { text: "What's your favorite non-physical quality about me?", modes: ['in-person', 'long-distance'] },
                { text: "What's the biggest lie you've ever told?", modes: ['in-person', 'long-distance'] },
                { text: "If we could go anywhere in the world for a week, where would you take us?", modes: ['in-person', 'long-distance'] },
                { text: "What's something you wish we did more of together?", modes: ['in-person', 'long-distance'] },
                { text: "What gives you 'the ick'?", modes: ['in-person', 'long-distance'] },
                { text: "What's something you're insecure about?", modes: ['in-person', 'long-distance'] },
                { text: "Who was your first celebrity crush?", modes: ['in-person', 'long-distance'] },
                { text: "What's one thing you've been too shy to ask me to do in the bedroom?", modes: ['in-person', 'long-distance'] },
                { text: "How do you really feel about my friends/family?", modes: ['in-person', 'long-distance'] },
                { text: "What is your biggest turn-on?", modes: ['in-person', 'long-distance'] },
                { text: "What is your biggest turn-off?", modes: ['in-person', 'long-distance'] },
                { text: "Have you ever faked an orgasm?", modes: ['in-person', 'long-distance'] },
                { text: "Where is the craziest place you've ever 'done it'?", modes: ['in-person', 'long-distance'] },
                { text: "What's your favorite position?", modes: ['in-person', 'long-distance'] },
                { text: "What's a non-sexual thing that turns you on?", modes: ['in-person', 'long-distance'] },
                { text: "Have you ever stalked an ex on social media?", modes: ['in-person', 'long-distance'] },
                { text: "If you had a 'hall pass,' who would you use it on?", modes: ['in-person', 'long-distance'] },
                { text: "What's something you think we should save up for?", modes: ['in-person', 'long-distance'] },
                { text: "What is your love language?", modes: ['in-person', 'long-distance'] },
                { text: "When do you feel most loved by me?", modes: ['in-person', 'long-distance'] },
                { text: "What's your biggest fear about our future?", modes: ['in-person', 'long-distance'] },
                { text: "Is there anything you feel you can't talk to me about?", modes: ['in-person', 'long-distance'] },
                { text: "Have you ever thought about someone else while we were having sex?", modes: ["in-person", "long-distance"] },
                  { text: "What’s the dirtiest thought you’ve ever had about me?", modes: ["in-person", "long-distance"] },
                  { text: "Have you ever faked being turned on with me?", modes: ["in-person", "long-distance"] },
                  { text: "What’s the most embarrassing thing that has happened to you during sex?", modes: ["in-person", "long-distance"] },
                  { text: "What’s the kinkiest porn you’ve ever watched?", modes: ["in-person", "long-distance"] },
                  { text: "Do you have a secret fetish you’ve never told me about?", modes: ["in-person", "long-distance"] },
                  { text: "Have you ever thought about cheating on me?", modes: ["in-person", "long-distance"] },
                  { text: "What’s the biggest sexual risk you’ve ever taken?", modes: ["in-person", "long-distance"] },
                  { text: "What’s the wildest place you’ve ever wanted to have sex but haven’t yet?", modes: ["in-person", "long-distance"] },
                  { text: "Have you ever sent nudes to someone else besides me?", modes: ["in-person", "long-distance"] },
                  { text: "What’s one sexual experience you regret?", modes: ["in-person", "long-distance"] },
                  { text: "What’s your dirtiest fantasy involving me?", modes: ["in-person", "long-distance"] },
                  { text: "Would you ever want to watch me with someone else?", modes: ["in-person", "long-distance"] },
                  { text: "What’s one thing you’ve lied to me about sexually?", modes: ["in-person", "long-distance"] },
                  { text: "What’s the longest you’ve gone without sex and why?", modes: ["in-person", "long-distance"] },
                  { text: "Have you ever masturbated to the thought of me in public?", modes: ["in-person", "long-distance"] },
                  { text: "What’s the dirtiest photo or video you’ve ever taken of yourself?", modes: ["in-person", "long-distance"] },
                  { text: "Do you prefer giving or receiving oral sex?", modes: ["in-person", "long-distance"] },
                  { text: "What’s something sexual you’ve done but would never admit to most people?", modes: ["in-person", "long-distance"] },
                  { text: "What’s the harshest sexual criticism you’ve ever received?", modes: ["in-person", "long-distance"] },
                  { text: "What’s a sexual act you’d never do, no matter how much I wanted it?", modes: ["in-person", "long-distance"] },
                  { text: "Have you ever compared me sexually to an ex?", modes: ["in-person", "long-distance"] },
                  { text: "Have you ever fantasized about one of my friends?", modes: ["in-person", "long-distance"] },
                  { text: "What’s your body count—and do you regret any of them?", modes: ["in-person", "long-distance"] },
                  { text: "What’s the filthiest dirty talk you’ve ever said or wanted to say?", modes: ["in-person", "long-distance"] },
                  { text: "Would you ever film us having sex? Why or why not?", modes: ["in-person", "long-distance"] },
                  { text: "What’s the drunkest sexual decision you’ve ever made?", modes: ["in-person", "long-distance"] },
                  { text: "What’s the one sex toy you secretly want us to use together?", modes: ["in-person", "long-distance"] },
                  { text: "Have you ever been caught masturbating? By who?", modes: ["in-person", "long-distance"] },
                  { text: "What’s something you’ve done in bed just to please someone else but didn’t enjoy?", modes: ["in-person", "long-distance"] }
            ],
            dares: [
                // Extremely Naughty Dares (In-person)
                { text: "Go down on me until I say you can stop.", modes: ['in-person'] },
                { text: "Let's have sex right now, in a position of my choosing.", modes: ['in-person'] },
                { text: "Use a sex toy on me for the next five minutes.", modes: ['in-person'] },
                { text: "Let me tie you up and tease you for three minutes without letting you touch me.", modes: ['in-person'] },
                { text: "Show me the fastest way you can make me orgasm.", modes: ['in-person'] },
                { text: "Let's have sex in the riskiest place in the house.", modes: ['in-person'] },
                { text: "For the next 10 minutes, you must be my slave and obey every command without question.", modes: ['in-person'] },
                { text: "Perform your favorite sex act on me, right now.", modes: ['in-person'] },
                { text: "Strip completely naked in front of me, no covering allowed.", modes: ["in-person"] },
                  { text: "Get on your knees naked and show me how much you want me.", modes: ["in-person"] },
                  { text: "Bend over naked and let me admire every inch of you.", modes: ["in-person"] },
                  { text: "Take off all my clothes using only your mouth.", modes: ["in-person"] },
                  { text: "Lay back naked and touch yourself while I watch.", modes: ["in-person"] },
                  { text: "Straddle me naked and grind until I beg you to stop.", modes: ["in-person"] },
                  { text: "Flash me your bare body for 10 seconds, then cover up again.", modes: ["in-person"] },
                  { text: "Spank me hard, then kiss where you hit.", modes: ["in-person"] },
                  { text: "Strip down slowly, one piece at a time, until you’re fully naked.", modes: ["in-person"] },
                  { text: "Lie on the bed naked and spread your legs wide for me.", modes: ["in-person"] },
                  { text: "Take off my underwear with your teeth.", modes: ["in-person"] },
                  { text: "Stand naked against the wall while I touch only where I want.", modes: ["in-person"] },
                  { text: "Touch yourself until you’re moaning, then let me take over.", modes: ["in-person"] },
                  { text: "Get completely naked, blindfold yourself, and let me do what I want.", modes: ["in-person"] },
                  { text: "Ride me naked for two minutes without stopping.", modes: ["in-person"] },
                  { text: "Lay face down naked while I kiss down your back.", modes: ["in-person"] },
                  { text: "Undress me completely and stare at my body before touching.", modes: ["in-person"] },
                  { text: "Sit on my face naked and don’t hold back.", modes: ["in-person"] },
                  { text: "Get naked and pose in your favorite sexual position.", modes: ["in-person"] },
                  { text: "Moan my name while I watch you touch yourself naked.", modes: ["in-person"] },
                  { text: "Kneel naked at my feet until I tell you to move.", modes: ["in-person"] },
                  { text: "Let me tie your hands behind your back while you’re naked.", modes: ["in-person"] },
                  { text: "Take your underwear off slowly while looking me in the eyes.", modes: ["in-person"] },
                  { text: "Get naked and ride a pillow while I watch.", modes: ["in-person"] },
                  { text: "Stand naked in front of a mirror and make me watch you pose.", modes: ["in-person"] },
                  { text: "Get fully undressed, lie down, and spread your legs wide for me.", modes: ["in-person"] },
                  { text: "Strip completely, then crawl toward me naked.", modes: ["in-person"] },
                  { text: "Take a shower with me, but no touching allowed until I say so.", modes: ["in-person"] },
                  { text: "Get naked and let me take one picture just for us.", modes: ["in-person"] },
                  { text: "Stand naked, close your eyes, and let me touch anywhere I want.", modes: ["in-person"] },

                // Foot Fetish Dares (In-person)
                { text: "Worship my feet for three minutes. Kissing, licking, and sucking are required.", modes: ['in-person'] },
                { text: "Give me a foot massage using only your mouth.", modes: ['in-person'] },
                { text: "Suck each of my toes slowly, like you're savoring them.", modes: ['in-person'] },
                { text: "Let me rest my feet on your face for the duration of the next round.", modes: ['in-person'] },

                // Extremely Naughty Dares (Long-distance)
                { text: "Show me exactly how you masturbate. I want to watch you finish.", modes: ['long-distance'] },
                { text: "Let's sync up and orgasm together on video call.", modes: ['long-distance'] },
                { text: "Use a toy on yourself while I give you explicit instructions.", modes: ['long-distance'] },
                { text: "Send me an audio clip of you faking an intense orgasm.", modes: ['long-distance'] },
                { text: "Tell me, in graphic detail, the dirtiest thing you want to do to me.", modes: ['long-distance'] },
                { text: "Show me your orgasm face. Send a picture or show me on video.", modes: ['long-distance'] },
                { text: "Strip completely naked and send me a mirror pic right now.", modes: ["long-distance"] },
                { text: "Show me exactly how you masturbate. I want to watch you finish.", modes: ["long-distance"] },
                { text: "Record yourself moaning my name while touching yourself.", modes: ["long-distance"] },
                { text: "Send me a video of you taking off your underwear slowly.", modes: ["long-distance"] },
                { text: "Spread your legs for the camera and show me what’s mine.", modes: ["long-distance"] },
                { text: "Use a toy or your fingers and let me watch you cum.", modes: ["long-distance"] },
                { text: "Send me a pic of your clothes on the floor—proof you’re naked.", modes: ["long-distance"] },
                { text: "Show me your best ass angle and send me the pic.", modes: ["long-distance"] },
                { text: "Bite your lip, touch yourself, and send me a short video.", modes: ["long-distance"] },
                { text: "Flash me full nude for 5 seconds on video call.", modes: ["long-distance"] },
                { text: "Spank yourself three times and send me the video.", modes: ["long-distance"] },
                { text: "Get naked under a blanket and show me little glimpses on video call.", modes: ["long-distance"] },
                { text: "Record yourself moaning louder each time until you can’t stop.", modes: ["long-distance"] },
                { text: "Take a nude pic hiding only with your hands.", modes: ["long-distance"] },
                { text: "Do a slow striptease on camera until I say stop.", modes: ["long-distance"] },
                { text: "Send me a shower video—just enough steam to tease me.", modes: ["long-distance"] },
                { text: "Ride a pillow naked and show me proof.", modes: ["long-distance"] },
                { text: "Show me your favorite position while naked on your bed.", modes: ["long-distance"] },
                { text: "Send me a before-and-after orgasm photo set.", modes: ["long-distance"] },
                { text: "Get completely naked except for socks or shoes—prove it with a pic.", modes: ["long-distance"] },
                { text: "Put ice on your nipples or between your legs and send me the video.", modes: ["long-distance"] },
                { text: "Show me how wet/hard you are right now.", modes: ["long-distance"] },
                { text: "Send me a close-up nude from your favorite angle.", modes: ["long-distance"] },
                { text: "Moan my name 3 times in a row on voice note.", modes: ["long-distance"] },
                { text: "Do a strip countdown: one piece of clothing off every 30 seconds.", modes: ["long-distance"] },
                { text: "Send me a nude with the caption ‘I’m all yours.’", modes: ["long-distance"] },
                { text: "Grab something around you and use it to tease yourself on camera.", modes: ["long-distance"] },
                { text: "Send me a video of you pretending I’m inside you.", modes: ["long-distance"] },
                { text: "Lay back naked, touch yourself, and let me watch until you finish.", modes: ["long-distance"] },
                { text: "Take a mirror nude with no face—just your body on display for me.", modes: ["long-distance"] },

                // Foot Fetish Dares (Long-distance)
                { text: "Show me your feet up close on camera. Slowly lick them for me.", modes: ['long-distance'] },
                { text: "Send me a short video of you rubbing oil all over your feet.", modes: ['long-distance'] },

                // Tamer (but still fun) Dares for variety
                { text: "Give me a lap dance to the sexiest song you can find.", modes: ['in-person'] },
                { text: "Take off one item of my clothing using only your teeth.", modes: ['in-person'] },
                { text: "Describe the most intense orgasm you've ever had in full detail.", modes: ['in-person', 'long-distance'] },
                { text: "Slowly lick your lips while staring into my eyes for 30 seconds.", modes: ['in-person', 'long-distance'] },
                { text: "Read me a random paragraph from a book in your most seductive voice.", modes: ['long-distance'] },
                { text: "Write my name somewhere on your body and send me a picture.", modes: ['long-distance'] },
            ]
        };

        // --- Functions ---
        function startGame(selectedMode) {
            state.mode = selectedMode;
            modeScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            resetGame();
        }

        function backToMenu() {
            modeScreen.classList.remove('hidden');
            gameScreen.classList.add('hidden');
            state.mode = null;
        }
        
        function resetGame() {
            state.currentPlayer = 1;
            state.usedTruths = [];
            state.usedDares = [];
            turnIndicator.textContent = "Player 1's Turn";
            // Reset to show choices
            choiceView.classList.remove('hidden');
            resultView.classList.add('hidden');
            cardContent.style.opacity = '1';
            nextTurnBtn.style.opacity = '0';
            nextTurnBtn.style.pointerEvents = 'none';
        }

        function getRandomCard(type) {
            const availableCards = cards[type].filter(card => card.modes.includes(state.mode));
            // For now, we'll just pick randomly. A more robust version would avoid repeats.
            const randomIndex = Math.floor(Math.random() * availableCards.length);
            return availableCards[randomIndex];
        }

        function handleCardChoice(type) {
            const card = getRandomCard(type);
            
            // 1. Fade out current content
            cardContent.style.opacity = '0';

            setTimeout(() => {
                // 2. After fade out, switch content
                choiceView.classList.add('hidden');
                resultView.classList.remove('hidden');
                cardText.textContent = card.text;

                // 3. Fade in new content
                cardContent.style.opacity = '1';
                
                // 4. Show the next turn button
                nextTurnBtn.style.opacity = '1';
                nextTurnBtn.style.pointerEvents = 'auto';
            }, 400); // This duration should match the CSS transition
        }

        // --- Event Listeners ---
        document.querySelectorAll('.mode-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                startGame(e.target.dataset.mode);
            });
        });

        document.getElementById('back-btn').addEventListener('click', backToMenu);

        document.getElementById('truth-btn').addEventListener('click', () => handleCardChoice('truths'));
        document.getElementById('dare-btn').addEventListener('click', () => handleCardChoice('dares'));

        nextTurnBtn.addEventListener('click', () => {
            state.currentPlayer = state.currentPlayer === 1 ? 2 : 1;
            turnIndicator.textContent = `Player ${state.currentPlayer}'s Turn`;
            
            // Fade out the result
            cardContent.style.opacity = '0';
            
            setTimeout(() => {
                // Switch back to the choice view
                resultView.classList.add('hidden');
                choiceView.classList.remove('hidden');
                
                // Fade it back in
                cardContent.style.opacity = '1';
            }, 400);

            nextTurnBtn.style.opacity = '0';
            nextTurnBtn.style.pointerEvents = 'none';
        });

    </script>
</body>
</html>
